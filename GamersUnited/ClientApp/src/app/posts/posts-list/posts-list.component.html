<ng-container *ngIf="posts; else loader;">
    <h3> Recent posts in {{posts[0]?.categoryName}} </h3>
    <div class="container">
        <ng-container *ngFor="let post of posts">
            <div class="post">
                <mat-accordion class="post">
                    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3> {{post.title}}</h3>
                            </mat-panel-title>
                            <mat-panel-description>
                                <h3>Posted by {{post.createdBy}}</h3>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <p [innerHTML]="post.body"></p>
                    </mat-expansion-panel>
                </mat-accordion>
                <app-votes [vote]="post.vote" [votesCount]="post.votesScore" [postId]="post.id"></app-votes>
                <a [routerLink]="['/post', post.id]">Comments({{post.commentsCount}})</a>
            </div>
        </ng-container>
    </div>
</ng-container>
<ng-template #loader>
    <app-loader></app-loader>
</ng-template>